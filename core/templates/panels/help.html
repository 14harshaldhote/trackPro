{% load static %}
<div class="panel" data-panel="help">
    <div class="breadcrumb">
        <a href="/">Home</a>
        <span class="breadcrumb-separator">‚Ä∫</span>
        <span>Help</span>
    </div>

    <div class="panel-header">
        <h1 class="panel-title">‚ùì Help Center</h1>
        <p style="color: var(--color-text-secondary); margin: 0.5rem 0 0;">
            Everything you need to know about Tracker Pro
        </p>
    </div>

    <!-- Quick Links -->
    <div
        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-bottom: 3rem;">
        <a href="#getting-started" class="help-quick-link"
            style="display: flex; align-items: center; gap: 1rem; padding: 1.5rem; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: 12px; text-decoration: none; color: inherit; transition: all 0.2s;">
            <div
                style="width: 48px; height: 48px; border-radius: 12px; background: var(--color-primary); display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
                üöÄ
            </div>
            <div>
                <div style="font-weight: 600; margin-bottom: 0.25rem;">Getting Started</div>
                <div style="font-size: 0.875rem; color: var(--color-text-secondary);">Learn the basics</div>
            </div>
        </a>

        <a href="#keyboard-shortcuts" class="help-quick-link"
            style="display: flex; align-items: center; gap: 1rem; padding: 1.5rem; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: 12px; text-decoration: none; color: inherit; transition: all 0.2s;">
            <div
                style="width: 48px; height: 48px; border-radius: 12px; background: var(--color-secondary); display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
                ‚å®Ô∏è
            </div>
            <div>
                <div style="font-weight: 600; margin-bottom: 0.25rem;">Keyboard Shortcuts</div>
                <div style="font-size: 0.875rem; color: var(--color-text-secondary);">Work faster</div>
            </div>
        </a>

        <a href="#faq" class="help-quick-link"
            style="display: flex; align-items: center; gap: 1rem; padding: 1.5rem; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: 12px; text-decoration: none; color: inherit; transition: all 0.2s;">
            <div
                style="width: 48px; height: 48px; border-radius: 12px; background: var(--color-success); display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
                üí°
            </div>
            <div>
                <div style="font-weight: 600; margin-bottom: 0.25rem;">FAQs</div>
                <div style="font-size: 0.875rem; color: var(--color-text-secondary);">Common questions</div>
            </div>
        </a>
    </div>

    <!-- Getting Started -->
    <section id="getting-started" style="margin-bottom: 3rem;">
        <h2 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem;">üöÄ Getting Started</h2>

        <div style="display: flex; flex-direction: column; gap: 1.5rem;">
            <div class="help-article">
                <h3 style="font-weight: 600; margin-bottom: 0.5rem;">1. Create Your First Tracker</h3>
                <p style="color: var(--color-text-secondary); margin-bottom: 0.75rem;">
                    Click the "New Tracker" button in the sidebar or press <kbd>Ctrl+N</kbd> to create your first
                    tracker. Choose a name, time period (daily/weekly/monthly), and add tasks.
                </p>
                <button class="btn btn-primary btn-sm" data-action="add-tracker">Create Tracker Now</button>
            </div>

            <div class="help-article">
                <h3 style="font-weight: 600; margin-bottom: 0.5rem;">2. Add and Complete Tasks</h3>
                <p style="color: var(--color-text-secondary);">
                    Navigate to "Today" view to see all your tasks. Click the checkbox to mark tasks complete, or use
                    swipe gestures on mobile to quickly complete, skip, or delete tasks.
                </p>
            </div>

            <div class="help-article">
                <h3 style="font-weight: 600; margin-bottom: 0.5rem;">3. Track Your Progress</h3>
                <p style="color: var(--color-text-secondary);">
                    View your analytics in the "Analytics" panel to see completion rates, streaks, and behavioral
                    insights. Use "Insights" to get personalized recommendations.
                </p>
            </div>
        </div>
    </section>

    <!-- Keyboard Shortcuts -->
    <section id="keyboard-shortcuts" style="margin-bottom: 3rem;">
        <h2 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem;">‚å®Ô∏è Keyboard Shortcuts</h2>

        {% include 'modals/keyboard_shortcuts.html' %}

        <p style="margin-top: 1rem; color: var(--color-text-secondary);">
            Press <kbd>?</kbd> anywhere to view the complete list of shortcuts.
        </p>
    </section>

    <!-- FAQs -->
    <section id="faq" style="margin-bottom: 3rem;">
        <h2 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem;">üí° Frequently Asked Questions</h2>

        <div style="display: flex; flex-direction: column; gap: 1rem;">
            {% if faq %}
            {% for item in faq %}
            <details class="faq-item"
                style="padding: 1.5rem; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: 12px;">
                <summary
                    style="font-weight: 600; cursor: pointer; list-style: none; display: flex; justify-content: space-between; align-items: center;">
                    {{ item.question }}
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor"
                        style="transition: transform 0.2s;">
                        <path fill-rule="evenodd"
                            d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                            clip-rule="evenodd" />
                    </svg>
                </summary>
                <div style="margin-top: 1rem; color: var(--color-text-secondary);">
                    {{ item.answer }}
                </div>
            </details>
            {% endfor %}
            {% else %}
            <details class="faq-item"
                style="padding: 1.5rem; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: 12px;">
                <summary style="font-weight: 600; cursor: pointer;">How do I create a tracker?</summary>
                <p style="margin-top: 1rem; color: var(--color-text-secondary);">
                    Click the "New Tracker" button in the sidebar or press <kbd>Ctrl+N</kbd>. Fill in the tracker name,
                    choose a time period, and add your tasks.
                </p>
            </details>

            <details class="faq-item"
                style="padding: 1.5rem; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: 12px;">
                <summary style="font-weight: 600; cursor: pointer;">What's the difference between daily, weekly, and
                    monthly trackers?</summary>
                <p style="margin-top: 1rem; color: var(--color-text-secondary);">
                    Daily trackers reset every day, weekly trackers reset every week (Monday), and monthly trackers
                    reset on the 1st of each month. Choose based on how often you want to complete your tasks.
                </p>
            </details>

            <details class="faq-item"
                style="padding: 1.5rem; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: 12px;">
                <summary style="font-weight: 600; cursor: pointer;">How do I edit or delete a task?</summary>
                <p style="margin-top: 1rem; color: var(--color-text-secondary);">
                    Click the three-dot menu next to any task to edit or delete it. You can also swipe left on mobile to
                    reveal quick actions.
                </p>
            </details>

            <details class="faq-item"
                style="padding: 1.5rem; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: 12px;">
                <summary style="font-weight: 600; cursor: pointer;">What are goals and how do I track them?</summary>
                <p style="margin-top: 1rem; color: var(--color-text-secondary);">
                    Goals are long-term targets you want to achieve. Create a goal in the "Goals" panel, set a target
                    number, and optionally link it to a tracker. Your progress updates automatically as you complete
                    tasks.
                </p>
            </details>

            <details class="faq-item"
                style="padding: 1.5rem; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: 12px;">
                <summary style="font-weight: 600; cursor: pointer;">Can I change the theme?</summary>
                <p style="margin-top: 1rem; color: var(--color-text-secondary);">
                    Yes! Click the theme button in the header or go to Settings ‚Üí Appearance. We have 14 beautiful
                    themes to choose from including dark mode options.
                </p>
            </details>
            {% endif %}
        </div>
    </section>

    <!-- Contact Support -->
    <section
        style="padding: 2rem; background: var(--color-surface); border: 1px solid var(--color-border); border-radius: 16px; text-align: center;">
        <h2 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 0.5rem;">Still need help?</h2>
        <p style="color: var(--color-text-secondary); margin-bottom: 1.5rem;">
            Our support team is here to assist you
        </p>
        <div style="display: flex; gap: 1rem; justify-content: center;">
            <a href="mailto:support@trackerpro.com" class="btn btn-primary">
                Email Support
            </a>
            <a href="/docs/" class="btn btn-secondary">
                View Documentation
            </a>
        </div>
    </section>
</div>

<style>
    .help-quick-link:hover {
        border-color: var(--color-primary);
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
    }

    .faq-item[open] summary svg {
        transform: rotate(180deg);
    }

    kbd {
        display: inline-block;
        padding: 0.25rem 0.5rem;
        font-size: 0.75rem;
        font-family: ui-monospace, monospace;
        background: var(--color-bg);
        border: 1px solid var(--color-border);
        border-radius: 4px;
    }
</style>