{% extends 'base.html' %}

{% block title %}Add Task - {{ tracker.name }}{% endblock %}

{% block content %}
<div class="main-content fade-in">
    <div style="margin-bottom: 2rem;">
        <a href="{% url 'manage_tasks' tracker.tracker_id %}" class="btn btn-ghost">‚Üê Back</a>
        <h1 style="margin: 1rem 0;">‚ûï Add New Task</h1>
        <p class="text-secondary">{{ tracker.name }}</p>
    </div>

    <div class="card" style="max-width: 600px; margin: 0 auto;">
        <form method="post">
            {% csrf_token %}

            <div class="form-group">
                <label class="form-label">Task Description *</label>
                <input type="text" name="description" required class="form-input" placeholder="e.g., Morning workout"
                    autofocus>
                <small class="text-secondary">Clear, actionable task name</small>
            </div>

            <div class="form-group">
                <label class="form-label">Category</label>
                <input type="text" name="category" class="form-input" placeholder="e.g., health, work, study">
                <small class="text-secondary">Optional grouping for analytics</small>
            </div>

            <div class="form-group">
                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                    <input type="checkbox" name="is_recurring" checked>
                    <span>Recurring Task</span>
                </label>
                <small class="text-secondary">Will appear daily/weekly based on tracker mode</small>
            </div>

            <div class="form-group">
                <label class="form-label">Weight / Priority</label>
                <input type="number" name="weight" value="1" min="1" max="10" class="form-input">
                <small class="text-secondary">1 = low priority, 10 = critical (used in analytics)</small>
            </div>

            <div style="display: flex; gap: 0.5rem; margin-top: 2rem;">
                <a href="{% url 'manage_tasks' tracker.tracker_id %}" class="btn btn-ghost" style="flex: 1;">
                    Cancel
                </a>
                <button type="submit" class="btn btn-primary" style="flex: 1;">
                    ‚úì Add Task
                </button>
            </div>
        </form>
    </div>

    <!-- Quick Tips -->
    <div class="card"
        style="max-width: 600px; margin: 2rem auto; background: rgba(var(--color-primary-rgb, 2, 119, 189), 0.1);">
        <h4 style="margin-bottom: 0.5rem;">üí° Quick Tips</h4>
        <ul style="margin: 0.5rem 0; padding-left: 1.5rem;">
            <li>Be specific: "30-min jog" instead of "exercise"</li>
            <li>Use categories to group related tasks</li>
            <li>Higher weight = more important in completion %</li>
            <li>Non-recurring tasks won't auto-generate daily</li>
        </ul>
    </div>
</div>
{% endblock %}