{% extends 'base.html' %}

{% block title %}Add Task - {{ tracker.name }}{% endblock %}

{% block content %}
<div class="main-content">
    <div style="margin-bottom: 2rem;">
        <a href="{% url 'manage_tasks' tracker.tracker_id %}" class="btn btn-ghost">â† Back to Tasks</a>
        <h1 style="margin: 1rem 0;">â• Add New Task</h1>
        <p class="text-secondary">Add a task to {{ tracker.name }}</p>
    </div>

    <div class="card">
        <form method="post" action="{% url 'add_task' tracker.tracker_id %}">
            {% csrf_token %}

            <div class="form-group" style="margin-bottom: 1.5rem;">
                <label for="description" style="display: block; font-weight: 600; margin-bottom: 0.5rem;">
                    Task Description *
                </label>
                <input type="text" id="description" name="description" required
                    placeholder="e.g., Morning meditation, Read 20 pages, Exercise 30 min..."
                    style="width: 100%; padding: 0.75rem; border: 1px solid var(--color-border); border-radius: 8px; font-size: 1rem;">
            </div>

            <div class="form-group" style="margin-bottom: 1.5rem;">
                <label for="category" style="display: block; font-weight: 600; margin-bottom: 0.5rem;">
                    Category
                </label>
                <select id="category" name="category"
                    style="width: 100%; padding: 0.75rem; border: 1px solid var(--color-border); border-radius: 8px; font-size: 1rem;">
                    <option value="">No Category</option>
                    <option value="Health">ğŸƒ Health & Fitness</option>
                    <option value="Work">ğŸ’¼ Work & Productivity</option>
                    <option value="Learning">ğŸ“š Learning & Growth</option>
                    <option value="Personal">ğŸ§˜ Personal & Mindfulness</option>
                    <option value="Finance">ğŸ’° Finance</option>
                    <option value="Social">ğŸ‘¥ Social & Relationships</option>
                    <option value="Creative">ğŸ¨ Creative</option>
                    <option value="Other">ğŸ“‹ Other</option>
                </select>
            </div>

            <div class="form-group" style="margin-bottom: 1.5rem;">
                <label for="weight" style="display: block; font-weight: 600; margin-bottom: 0.5rem;">
                    Difficulty/Priority (1-5)
                </label>
                <div style="display: flex; gap: 0.5rem; align-items: center;">
                    <input type="range" id="weight" name="weight" min="1" max="5" value="1" style="flex: 1;"
                        oninput="document.getElementById('weight-display').textContent = this.value">
                    <span id="weight-display" style="font-weight: 600; min-width: 2rem; text-align: center;">1</span>
                </div>
                <p class="text-secondary" style="font-size: 0.75rem; margin-top: 0.25rem;">
                    Higher weight = more effort required, counts more toward your effort score
                </p>
            </div>

            <div class="form-group" style="margin-bottom: 1.5rem;">
                <label style="display: flex; align-items: center; gap: 0.75rem; cursor: pointer;">
                    <input type="checkbox" id="is_recurring" name="is_recurring" checked
                        style="width: 20px; height: 20px;">
                    <span style="font-weight: 600;">Recurring Task</span>
                </label>
                <p class="text-secondary" style="font-size: 0.75rem; margin-top: 0.25rem;">
                    Recurring tasks appear every day. Uncheck for one-time tasks.
                </p>
            </div>

            <div style="display: flex; gap: 1rem; padding-top: 1rem; border-top: 1px solid var(--color-border);">
                <button type="submit" class="btn btn-primary" style="flex: 1;">
                    â• Add Task
                </button>
                <a href="{% url 'manage_tasks' tracker.tracker_id %}" class="btn btn-ghost">
                    Cancel
                </a>
            </div>
        </form>
    </div>

    <!-- Quick Tips -->
    <div class="card" style="margin-top: 2rem;">
        <div class="card-header">
            <h3>ğŸ’¡ Tips for Effective Tasks</h3>
        </div>
        <ul style="list-style: none; padding: 0;">
            <li style="padding: 0.75rem 0; border-bottom: 1px solid var(--color-border);">
                <strong>Be specific:</strong> "Read for 30 minutes" is better than "Read more"
            </li>
            <li style="padding: 0.75rem 0; border-bottom: 1px solid var(--color-border);">
                <strong>Keep it actionable:</strong> Start with verbs like "Do", "Complete", "Practice"
            </li>
            <li style="padding: 0.75rem 0; border-bottom: 1px solid var(--color-border);">
                <strong>Start small:</strong> It's easier to build habits with achievable tasks
            </li>
            <li style="padding: 0.75rem 0;">
                <strong>Group by category:</strong> Helps you maintain balance across life areas
            </li>
        </ul>
    </div>
</div>
{% endblock %}