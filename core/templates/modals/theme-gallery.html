<!-- Theme Gallery Modal -->
<div class="modal-header">
    <h2 class="modal-title">Theme Gallery</h2>
    <button class="modal-close" data-action="close-modal" aria-label="Close">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
    </button>
</div>

<div class="modal-body">
    <p class="modal-description">Choose a theme that matches your mood and productivity style.</p>

    <div class="theme-gallery-grid">
        <!-- Light Themes -->
        <div class="theme-category">
            <h3 class="theme-category-title">‚òÄÔ∏è Light Themes</h3>
            <div class="theme-cards">
                <button class="theme-card" data-theme="working-hard" title="Working Hard - Professional blue">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #ECEFF1, #0277BD);"></div>
                    <span class="theme-name">Working Hard</span>
                </button>
                <button class="theme-card" data-theme="bloom" title="Bloom - Fresh green">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #F1F8E9, #66BB6A);"></div>
                    <span class="theme-name">Bloom</span>
                </button>
                <button class="theme-card" data-theme="blossom" title="Blossom - Soft pink">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #FFF0F5, #F48FB1);"></div>
                    <span class="theme-name">Blossom</span>
                </button>
                <button class="theme-card" data-theme="cherry" title="Cherry - Bold pink">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #FCE4EC, #E91E63);"></div>
                    <span class="theme-name">Cherry</span>
                </button>
                <button class="theme-card" data-theme="rising-up" title="Rising Up - Warm orange">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #FFF8E1, #FFA726);"></div>
                    <span class="theme-name">Rising Up</span>
                </button>
                <button class="theme-card" data-theme="dig-deep" title="Dig Deep - Earthy brown">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #EFEBE9, #6D4C41);"></div>
                    <span class="theme-name">Dig Deep</span>
                </button>
                <button class="theme-card" data-theme="ocean-wave" title="Ocean Wave - Calming cyan">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #E0F7FA, #0288D1);"></div>
                    <span class="theme-name">Ocean Wave</span>
                </button>
                <button class="theme-card" data-theme="gold-rush" title="Gold Rush - Luxurious gold">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #FFF8E1, #FFD700);"></div>
                    <span class="theme-name">Gold Rush</span>
                </button>
                <button class="theme-card" data-theme="zen-master" title="Zen Master - Peaceful sage">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #F5F5F5, #9E9E9E);"></div>
                    <span class="theme-name">Zen Master</span>
                </button>
            </div>
        </div>

        <!-- Dark Themes -->
        <div class="theme-category">
            <h3 class="theme-category-title">üåô Dark Themes</h3>
            <div class="theme-cards">
                <button class="theme-card" data-theme="total-dark" title="Total Dark - Pure darkness with teal accents">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #000000, #00BFA5);"></div>
                    <span class="theme-name">Total Dark</span>
                </button>
                <button class="theme-card" data-theme="rage" title="Rage - Intense red">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #1A0000, #FF1744);"></div>
                    <span class="theme-name">Rage</span>
                </button>
                <button class="theme-card" data-theme="horny" title="Passion - Deep purple">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #1A0A14, #D32F2F);"></div>
                    <span class="theme-name">Passion</span>
                </button>
                <button class="theme-card" data-theme="beast-mode" title="Beast Mode - Raw power">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #0D0D0D, #FF3D00);"></div>
                    <span class="theme-name">Beast Mode</span>
                </button>
                <button class="theme-card" data-theme="midnight-oil" title="Midnight Oil - Late night work">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #0D1B2A, #1B263B);"></div>
                    <span class="theme-name">Midnight Oil</span>
                </button>
                <button class="theme-card" data-theme="volcano" title="Volcano - Fiery eruption">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #1A0A00, #FF6D00);"></div>
                    <span class="theme-name">Volcano</span>
                </button>
            </div>
        </div>

        <!-- Vibrant/Neon Themes -->
        <div class="theme-category">
            <h3 class="theme-category-title">‚ú® Vibrant Themes</h3>
            <div class="theme-cards">
                <button class="theme-card" data-theme="sprinter" title="Sprinter - Electric green">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #0A0A0A, #00E676);"></div>
                    <span class="theme-name">Sprinter</span>
                </button>
                <button class="theme-card" data-theme="rider" title="Rider - Synthwave pink">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #1A0033, #FF6EC7);"></div>
                    <span class="theme-name">Rider</span>
                </button>
                <button class="theme-card" data-theme="neon-pulse" title="Neon Pulse - Glowing neon">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #0A0014, #E040FB);"></div>
                    <span class="theme-name">Neon Pulse</span>
                </button>
                <button class="theme-card" data-theme="cyberpunk" title="Cyberpunk - Futuristic">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #0D0D1A, #00FFFF);"></div>
                    <span class="theme-name">Cyberpunk</span>
                </button>
                <button class="theme-card" data-theme="northern-lights" title="Northern Lights - Aurora">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #0A1628, #00E5FF);"></div>
                    <span class="theme-name">Northern Lights</span>
                </button>
            </div>
        </div>

        <!-- Nature Themes -->
        <div class="theme-category">
            <h3 class="theme-category-title">üåø Nature Themes</h3>
            <div class="theme-cards">
                <button class="theme-card" data-theme="sunset-grind" title="Sunset Grind - Warm sunset">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #FF7043, #FFD54F);"></div>
                    <span class="theme-name">Sunset Grind</span>
                </button>
                <button class="theme-card" data-theme="forest-trail" title="Forest Trail - Deep forest">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #1B2E1B, #4CAF50);"></div>
                    <span class="theme-name">Forest Trail</span>
                </button>
                <button class="theme-card" data-theme="ice-cold" title="Ice Cold - Frozen tundra">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #E3F2FD, #42A5F5);"></div>
                    <span class="theme-name">Ice Cold</span>
                </button>
                <button class="theme-card" data-theme="arctic-blast" title="Arctic Blast - Polar chill">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #E1F5FE, #00B8D4);"></div>
                    <span class="theme-name">Arctic Blast</span>
                </button>
                <button class="theme-card" data-theme="desert-storm" title="Desert Storm - Sandy dunes">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #FFF3E0, #FF8F00);"></div>
                    <span class="theme-name">Desert Storm</span>
                </button>
                <button class="theme-card" data-theme="warrior-spirit" title="Warrior Spirit - Battle ready">
                    <div class="theme-preview" style="background: linear-gradient(135deg, #263238, #607D8B);"></div>
                    <span class="theme-name">Warrior Spirit</span>
                </button>
            </div>
        </div>
    </div>
</div>

<div class="modal-footer">
    <button class="btn btn-ghost" data-action="close-modal">Cancel</button>
</div>

<style>
    .theme-gallery-grid {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    .theme-category-title {
        font-size: 0.875rem;
        font-weight: 600;
        color: var(--color-text-secondary);
        margin-bottom: 0.75rem;
    }

    .theme-cards {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 0.75rem;
    }

    .theme-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0.5rem;
        padding: 0.75rem;
        background: var(--color-surface);
        border: 2px solid var(--color-border);
        border-radius: 12px;
        cursor: pointer;
        transition: all 0.2s;
    }

    .theme-card:hover {
        border-color: var(--color-primary);
        transform: translateY(-2px);
        box-shadow: var(--shadow-md);
    }

    .theme-card.active {
        border-color: var(--color-primary);
        background: rgba(var(--color-primary-rgb), 0.1);
    }

    .theme-preview {
        width: 100%;
        height: 48px;
        border-radius: 8px;
        box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .theme-name {
        font-size: 0.75rem;
        font-weight: 500;
        color: var(--color-text-primary);
        text-align: center;
    }

    .modal-description {
        color: var(--color-text-secondary);
        margin-bottom: 1.5rem;
    }
</style>

<script>
    (function () {
        const modal = document.querySelector('.modal-container');
        if (!modal) return;

        // Get current theme
        const currentTheme = document.documentElement.getAttribute('data-theme') || 'working-hard';

        // Mark active theme
        const activeCard = modal.querySelector(`[data-theme="${currentTheme}"]`);
        if (activeCard) activeCard.classList.add('active');

        // Handle theme selection
        modal.querySelectorAll('.theme-card').forEach(card => {
            card.addEventListener('click', function () {
                const theme = this.dataset.theme;

                // Apply theme
                document.documentElement.setAttribute('data-theme', theme);
                localStorage.setItem('tracker-theme', theme);

                // Update active state
                modal.querySelectorAll('.theme-card').forEach(c => c.classList.remove('active'));
                this.classList.add('active');

                // Show toast
                if (window.App && window.App.showToast) {
                    window.App.showToast('success', `Theme changed to ${this.querySelector('.theme-name').textContent}`);
                }

                // Close modal after short delay
                setTimeout(() => {
                    if (window.App && window.App.closeModal) {
                        window.App.closeModal();
                    }
                }, 500);
            });
        });
    })();
</script>