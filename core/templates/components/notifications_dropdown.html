<div class="notifications-header flex justify-between items-center p-3 border-b border-border">
    <h3 class="font-bold">Notifications</h3>
    {% if unread_notifications_count > 0 %}
    <button class="text-xs text-primary hover:underline" onclick="markAllNotificationsRead()">Mark all read</button>
    {% endif %}
</div>

<div class="notifications-list max-h-80 overflow-y-auto custom-scrollbar">
    <!-- This would usually be populated by JS or context, implementing a skeleton for now -->
    {% if notifications %}
    {% for notif in notifications %}
    <div class="notification-item p-3 border-b border-border hover:bg-surface-hover cursor-pointer {% if not notif.read %}bg-primary/5{% endif %}"
        onclick="handleNotificationClick('{{ notif.id }}', '{{ notif.link }}')">
        <div class="flex gap-3">
            <div class="mt-1">
                {% if notif.type == 'achievement' %}üèÜ{% elif notif.type == 'reminder' %}‚è∞{% else %}‚ÑπÔ∏è{% endif %}
            </div>
            <div>
                <p class="text-sm">{{ notif.message }}</p>
                <span class="text-xs text-secondary">{{ notif.created_at|timesince }} ago</span>
            </div>
        </div>
    </div>
    {% endfor %}
    {% else %}
    <div class="p-6 text-center text-secondary">
        <p class="text-sm">No new notifications</p>
    </div>
    {% endif %}
</div>

<div class="p-2 border-t border-border">
    <a href="/settings/notifications/"
        class="block text-center text-xs text-secondary hover:text-primary py-1">Notification Settings</a>
</div>